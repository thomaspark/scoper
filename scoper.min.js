function init(){var e=document.createElement("style");e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet.insertRule("body { visibility: hidden; }",0)}function scoper(e,t){var n=new RegExp("([^\r\n,{}]+)(,(?=[^}]*{)|s*{)","g");return e=e.replace(n,function(e,n,d){return n.match(/^\s*(@media|@keyframes|to|from)|@font-face/)?n+d:(n.match(/:scope/)&&(n=n.replace(/([^\s]*):scope/,function(e,t){return""===t?"> *":"> "+t})),n=n.replace(/^(\s*)/,"$1"+t+" "),n+d)})}function process(){var e=document.body.querySelectorAll("style[scoped]");if(0===e.length)return void(document.getElementsByTagName("body")[0].style.visibility="visible");for(var t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style"),d="",o=0;o<e.length;o++){var r=e[o],c=r.innerHTML;if(c&&"BODY"!==r.parentElement.nodeName){var a="scoper-"+o,s="#"+a,i=document.createElement("span");i.id=a;var l=r.parentNode,p=l.parentNode;p.replaceChild(i,l),i.appendChild(l),r.parentNode.removeChild(r),d+=scoper(c,s)}}n.styleSheet?n.styleSheet.cssText=d:n.appendChild(document.createTextNode(d)),t.appendChild(n),document.getElementsByTagName("body")[0].style.visibility="visible"}!function(){"use strict";"scoped"in document.createElement("style")||(init(),"complete"===document.readyState||"loaded"===document.readyState?process():document.addEventListener("DOMContentLoaded",process))}(),"undefined"!=typeof exports&&(exports.scoper=scoper);
